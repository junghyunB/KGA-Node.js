웹서버를 만드는 것이 목적

npm install -y

pakage.json
pakage_lock.json
node_modules


# 라이브러리, 패키지, 프레임워크의 특징
패키지 == 라이브러리 : 폴더 안에 프로그램 관련 파일이 담겨있는 공간 (express 등)
프레임워크 == 폴더구조가 있음(ex, 리액트의 cra)


express란?
- HTTP 서버를 편하게 다루게 해주는 라이브러리

서버란?
- 클라이언트의 요청을 확인하여 갖고있는 데이터를 찾아 응답하는 프로세스

HTTP란
- 클라이언트와 서버의 요청/응답을 하는 문자방식을 규약으로 만든 것

express란
- HTTP를 편하게 쓰게 해줌

tip) app은 객체다 클래스 혹은 함수로 제작되었다는 의미이다.


라우터
- 1) 디렉토리부터 제작
라우터 또한 객체로 반환된다.
- 2) index.js 제작함


require()
module.exports 의 차이
위 둘은 node.js의 내장모듈이다.

require는 return 값을 반환한다.
return값은 객체로 반환된다.


module은 node.js 내자객체
module.exports 객체는 결과물을 저장하는 공간
require의 역할은 가져오고 싶은 파일의 module.exports안에 있는 객체를 가져오는 역활

module.exports = {
  name : 'ingoo'
}

객체만 담기는 것은 아니다.
module.exports은 대부분 객체를 반환하지만 숫자도 반환할 수 있다.


비구조할당 공부하자!!!!!!

module.exports시 {}로 감싸서 보내고
require로 가져올때 {}로 비구조할당을 이용해 바로 객체의 값을 가져옴
a.a가 아닌 a만으로도 값을 가져올 수 있다.

=================================

미들웨어란?
콜백 그 자체....... ()=> {}
미들웨어의 실행동작에 대해 잘 이해해야한다.

형태는 콜백으로 되어있고,
app.get 내 매개변수 자리에 들어가는 콜백함수를 미들웨어라고 칭한다.

미들웨어는 언제 실행되는가??
//답 : 내가 원하는 시점에 함수를 실행하고 싶을 때 사용한다.

(콜백함수는 왜 사용하는가?) == 
//콜백사용을 이해하기 위해서는 이벤트 루프에 대해 알아야한다.

app.get('/', (req, res) =>{
  res.send('hello world!')
})
의 해설

express에서 app객체 안에 있는 메서드 중 get, post, use, delete, put...의 역할을 이해해야 한다. 요청 메소드라고 한다. 이를 자세히 보기 위해 HTTP를 봐야한다.

클라이언트가 요청하면 서버는 응답하는데
서로 대화하는 방식 http이며 http는 스트링 값이다
생김새를 보고싶으면 개발자도구의 네트워크를 보도록 한다.
요청메세지를 express가 읽는다.
근데 거기서 가장 중요한건 첫번째 줄로
요청 메소드를 먼저 확인한다.

url패턴
http://localhost:3000/user/profile 위치값
프로토콜://호스트:(포트까지 호스트)/path


app.get('/user', a)
//url을 /user값을 입력하는 get이 들어올때까지 대기한다.


라우터란
use는 요청메소드가 get인지 post인지 확인하는 용도이다.
app.use()는 패쓰값만 맞으면 get이든 Post든 어떤것이든 모두 ok라는 의미


그럼 next는???? 뭐지???


app.use(express)
익스텐션 트루 이거는 모든 요청을 허용한다.

app.get('/') 
app.use('/)모두 오케이 
둘 중 위에 위치한 값이 적용된다.

그런데!!!!!!!!!!!!!!
next라는 미들웨어의 세번째 인자값을 알아야한다.
한 요청에 2개 이상의 실행을 하고 싶을때 사용한다.
다음 라우터까지 실행되도록 한다.
next는 req.내용을 바꾸려고 사용함
req.객체 만들어주려고
req.session도 읨의대로 만든 것 뿐이다.


app.use(express.urlencorded{extended:true})는
app.use((req, res, next)=>{ next()})를 만들어주는 것이다.
그리고 body의 Url값을 객체로 정리하여 반환해주는 역할이다.


js
- 콜백

노드
-모듈
-모듈 내 익스포츠
-리콰이어

라우터

미들웨어
 -넥스트


req
res 에 담기는 것을 익히자

템플릿 엔진에 
render는 요청에 따라 페이지를 반응해준다.
render를 알기 위해 res에 대해 보자
res.send - 응답에 따라 메세지를 보내준다.(반응메세지의 헤더까지 자동로 만들어준다)
res.json - 응답에 따라 미리 지정해둔 json값 string값으로 자동 변환하여 보내주는 것이다.
res.render - 
0) 모든 값은 string값으로 주고받아야하기 때문에,
1) 파일 내 모든 텍스트를 먼저 가져옴
2) view 엔진별로 해석을 한다.
3) 그 결과물을 string으로 바꿔줌
4) res.send로 응답 body영역으로 구성하여 반환

브라우저의 역할
클라이언트가 서버에 HTTP언어로 요청하는 내용을 화면으로 구현해준다.

주소창에 쓰는건 무조건 GET 으로 인식함
(POST는 주소창에 보이지 않고 헤더에 입력되어 전달된다.)

res.객체는 브라우저가 서버에게 보내는 내용이다.
(미리 지정해둔)

브라우저는 string값으로 내용을 받는다.
<h1></h1> 같은 문법도 인식하여 화면을 구현한다. 이 역할은 express가 아닌 브라우저가 해주는것!

응답을 보낼때는 string값으로 보내는것이 원칙
그래서 json이 string값으로 변환해주는 것임


목표
- 혼자서 게시판 한시간 컷 할 수 있게
- 로그인도 한시간 이내 컷 할 수 있게
- Oauth 2.0 카카오 로그인 활용
- JWT 까지!!!!!
- JWT 라이브러리를 불러오지 않고 직접 구현 할 수 있게